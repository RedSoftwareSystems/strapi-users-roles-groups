{"version":3,"file":"index-5Wz8SGcD.js","sources":["../../admin/src/pluginId.js","../../admin/src/constants.js","../../admin/src/utils/getTrad.js","../../admin/src/index.js"],"sourcesContent":["import pluginPkg from \"../../package.json\";\n\nconst pluginId = pluginPkg.name.replace(/^@strapi\\/plugin-/i, \"\");\n\nexport default pluginId;\n","import pluginName from \"./pluginId\";\nexport const PERMISSIONS = {\n  // Roles\n  accessRoles: [\n    { action: `plugin::${pluginName}.roles.create`, subject: null },\n    { action: `plugin::${pluginName}.roles.read`, subject: null },\n  ],\n  createRole: [{ action: `plugin::${pluginName}.roles.create`, subject: null }],\n  deleteRole: [{ action: `plugin::${pluginName}.roles.delete`, subject: null }],\n  readRoles: [{ action: `plugin::${pluginName}.roles.read`, subject: null }],\n  updateRole: [{ action: `plugin::${pluginName}.roles.update`, subject: null }],\n\n  // AdvancedSettings\n  readAdvancedSettings: [\n    { action: `plugin::${pluginName}.advanced-settings.read`, subject: null },\n  ],\n  updateAdvancedSettings: [\n    { action: `plugin::${pluginName}.advanced-settings.update`, subject: null },\n  ],\n\n  // Emails\n  readEmailTemplates: [\n    { action: `plugin::${pluginName}.email-templates.read`, subject: null },\n  ],\n  updateEmailTemplates: [\n    { action: `plugin::${pluginName}.email-templates.update`, subject: null },\n  ],\n\n  // Providers\n  readProviders: [\n    { action: `plugin::${pluginName}.providers.read`, subject: null },\n  ],\n  updateProviders: [\n    { action: `plugin::${pluginName}.providers.update`, subject: null },\n  ],\n};\n","import pluginId from '../pluginId';\n\nconst getTrad = (id) => `${pluginId}.${id}`;\n\nexport default getTrad;\n","// NOTE TO PLUGINS DEVELOPERS:\n// If you modify this file by adding new options to the plugin entry point\n// Here's the file: strapi/docs/3.0.0-beta.x/plugin-development/frontend-field-api.md\n// Here's the file: strapi/docs/3.0.0-beta.x/guides/registering-a-field-in-admin.md\n// Also the strapi-generate-plugins/files/admin/src/index.js needs to be updated\n// IF THE DOC IS NOT UPDATED THE PULL REQUEST WILL NOT BE MERGED\nimport { prefixPluginTranslations } from \"@strapi/helper-plugin\";\n\nimport { PERMISSIONS } from \"./constants\";\nimport getTrad from \"./utils/getTrad\";\nimport pluginId from \"./pluginId\";\n\nexport default {\n  register(app) {\n    // Create the plugin's settings section\n    app.createSettingSection(\n      {\n        id: pluginId,\n        intlLabel: {\n          id: getTrad(\"Settings.section-label\"),\n          defaultMessage: \"Users & Permissions plugin\",\n        },\n      },\n      [\n        {\n          intlLabel: {\n            id: \"global.roles\",\n            defaultMessage: \"Roles\",\n          },\n          id: \"roles\",\n          to: `/settings/${pluginId}/roles`,\n          async Component() {\n            const component = await import(\"./pages/Roles\");\n\n            return component;\n          },\n          permissions: PERMISSIONS.accessRoles,\n        },\n        {\n          intlLabel: {\n            id: getTrad(\"HeaderNav.link.providers\"),\n            defaultMessage: \"Providers\",\n          },\n          id: \"providers\",\n          to: `/settings/${pluginId}/providers`,\n          async Component() {\n            const component = await import(\"./pages/Providers\");\n\n            return component;\n          },\n          permissions: PERMISSIONS.readProviders,\n        },\n        {\n          intlLabel: {\n            id: getTrad(\"HeaderNav.link.emailTemplates\"),\n            defaultMessage: \"Email templates\",\n          },\n          id: \"email-templates\",\n          to: `/settings/${pluginId}/email-templates`,\n          async Component() {\n            const component = await import(\"./pages/EmailTemplates\");\n\n            return component;\n          },\n          permissions: PERMISSIONS.readEmailTemplates,\n        },\n        {\n          intlLabel: {\n            id: getTrad(\"HeaderNav.link.advancedSettings\"),\n            defaultMessage: \"Advanced Settings\",\n          },\n          id: \"advanced-settings\",\n          to: `/settings/${pluginId}/advanced-settings`,\n          async Component() {\n            const component = await import(\"./pages/AdvancedSettings\");\n\n            return component;\n          },\n          permissions: PERMISSIONS.readAdvancedSettings,\n        },\n      ]\n    );\n\n    app.registerPlugin({\n      id: pluginId,\n      name: pluginId,\n    });\n  },\n  bootstrap() {},\n  async registerTrads({ locales }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, pluginId),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n"],"names":["pluginName","prefixPluginTranslations"],"mappings":"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"}